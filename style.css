:root{
  --bg:#f7f8fb;
  --card:#ffffff;
  --ink:#0b1220;
  --muted:#5b6577;
  --line:#e6e8ef;
  --accent:#6f61ff; /* סגול תכלכל */
  --accent-2:#18d0b5;
  --chip:#eef2f6;
  --danger:#e54949;
  --ok:#13b67d;
  --shadow: 0 8px 20px rgba(11,18,32,.07);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background:var(--bg); color:var(--ink);
}
a{color:inherit; text-decoration:none;}
img{max-width:100%; display:block}

.container{max-width:1200px; margin:0 auto; padding:20px}
.header{
  position: sticky; top:0; z-index:20;
  background: rgba(255,255,255,.9);
  backdrop-filter: blur(8px);
  border-bottom:1px solid var(--line);
}
.header-inner{display:flex; align-items:center; justify-content:space-between; padding:14px 20px;}
.brand{display:flex; align-items:center; gap:10px; font-weight:700;}

.progress{
  display:flex; align-items:center; gap:10px; color:var(--muted); font-weight:600;
}
.progress .dot{
  width:8px; height:8px; border-radius:50%; background:var(--line);
}
.progress .active{color:var(--accent)}
.progress .active .dot{background:var(--accent)}

.cta-sales{
  background: var(--accent);
  color:#fff; border:none; border-radius:12px; padding:10px 14px; font-weight:700; cursor:pointer;
  box-shadow: var(--shadow);
}

.grid{display:grid; gap:18px}
.grid.cards{grid-template-columns: repeat(3, 1fr)}
@media (max-width:990px){ .grid.cards{grid-template-columns: repeat(2, 1fr)} }
@media (max-width:680px){ .grid.cards{grid-template-columns: 1fr} }

.card{
  background:var(--card); border:1px solid var(--line); border-radius:16px; box-shadow: var(--shadow);
  padding:16px; display:flex; flex-direction:column; gap:12px;
}
.card .row{display:flex; align-items:center; gap:12px;}
.h{margin:0}
.h1{font-size:28px; font-weight:800;}
.h2{font-size:20px; font-weight:700;}
.h3{font-size:16px; font-weight:700;}
.muted{color:var(--muted)}
.badge{display:inline-flex; align-items:center; gap:6px; background:var(--chip); border:1px solid var(--line); color:var(--muted); padding:6px 10px; border-radius:999px; font-size:12px;}

.logo-row{display:flex; flex-wrap:wrap; gap:8px}
.logo-row img{height:18px; object-fit:contain; background:#fff; border:1px solid var(--line); border-radius:8px; padding:3px}

.list{display:flex; flex-direction:column; gap:6px; padding-left:18px; margin:0;}
.list li{font-size:14px; color:var(--ink)}

.actions{margin-top:auto; display:flex; align-items:center; justify-content:space-between; gap:10px}
.btn{
  border:1px solid var(--line); background:#fff; color:var(--ink); padding:10px 14px; border-radius:12px; font-weight:700; cursor:pointer;
}
.btn.primary{background:var(--accent); color:#fff; border-color:transparent}
.btn.ghost{background:transparent}
.btn.ok{background:var(--ok); color:#fff; border-color:transparent}
.btn:disabled{opacity:.5; pointer-events:none}

.footer-continue{display:flex; align-items:center; justify-content:flex-end; gap:10px; margin-top:20px}

.divider{height:1px; background:var(--line); margin:8px 0}

.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.32); display:none; align-items:center; justify-content:center; z-index:50;
}
.modal{width:min(720px, 94vw); background:#fff; border:1px solid var(--line); border-radius:16px; box-shadow: var(--shadow); padding:16px;}
.modal header{display:flex; align-items:center; justify-content:space-between; margin-bottom:8px}
.modal .scroll{max-height:50vh; overflow:auto; padding-right:6px}
.modal .close{background:transparent; border:none; font-weight:800; font-size:20px; cursor:pointer}

.aside{
  position:sticky; top:84px; align-self:flex-start; width:320px; background:var(--card); border:1px solid var(--line); border-radius:16px; box-shadow: var(--shadow); padding:12px;
}
.row-between{display:flex; align-items:center; justify-content:space-between}
.kpis{display:flex; gap:8px; flex-wrap:wrap}
.kpi{background:var(--chip); border:1px solid var(--line); border-radius:10px; padding:8px 10px; font-weight:700; font-size:13px}

.chips{display:flex; flex-wrap:wrap; gap:8px}
.chip{
  display:inline-flex; align-items:center; gap:6px; background:#fff; border:1px solid var(--line); padding:8px 10px; border-radius:999px; cursor:pointer;
}
.chip input{appearance:none; width:14px; height:14px; border:2px solid var(--accent); border-radius:3px; display:inline-block}
.chip input:checked{background:var(--accent)}
.chip.custom{border-color:#f8c14b; background: #fff9eb}

.notice{
  background:#fff; border:1px dashed var(--line); color:var(--muted); font-size:13px; padding:10px; border-radius:10px;
}

.layout-2col{display:grid; grid-template-columns: 1fr 320px; gap:18px}
@media (max-width:1020px){.layout-2col{grid-template-columns: 1fr}}

.chat-wrap{display:grid; grid-template-columns: 2fr 1fr; gap:18px}
@media (max-width:1020px){.chat-wrap{grid-template-columns: 1fr}}

.chat{
  background:#fff; border:1px solid var(--line); border-radius:16px; box-shadow: var(--shadow); overflow:hidden;
  display:flex; flex-direction:column; min-height:540px;
}
.chat-header{padding:12px 16px; border-bottom:1px solid var(--line); font-weight:800}
.chat-body{padding:14px; flex:1; overflow:auto; display:flex; flex-direction:column; gap:8px}
.chat-msg{max-width:70%; padding:10px 12px; border-radius:12px; border:1px solid var(--line)}
.me{align-self:flex-end; background:#eef5ff}
.ai{align-self:flex-start; background:#fff}
.chat-input{display:flex; align-items:center; gap:8px; padding:12px; border-top:1px solid var(--line)}
.chat-input input{flex:1; border:1px solid var(--line); border-radius:12px; padding:10px}

.sidebar{
  background:#fff; border:1px solid var(--line); border-radius:16px; box-shadow: var(--shadow); padding:12px;
}
.avatar{display:flex; align-items:center; gap:10px}
.status-dot{width:10px; height:10px; border-radius:50%; background:#39d98a; box-shadow: 0 0 0 6px rgba(57,217,138,.12)}
.badges{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px}
.badge.ok{border-color:#ccefe3; background:#f0fff8; color:#0b8f62}

/* Drawer */
.drawer-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.25); display:none; z-index:60;
}
.drawer{
  position:fixed; top:0; right:-440px; width:420px; height:100vh; background:#fff; border-left:1px solid var(--line); box-shadow: var(--shadow); z-index:70; transition:.25s;
}
.drawer.open{right:0}
.drawer header{padding:14px; border-bottom:1px solid var(--line); display:flex; justify-content:space-between; align-items:center}
.drawer .body{padding:12px}
  .system-logo {
    height: 24px;      /* consistent height */
    max-height: 24px;
    width: auto;
    object-fit: contain;
    opacity: .8;
    transition: opacity .2s ease;
  }
  .system-logo:hover { opacity: 1; }

  /* Selected card visual (if not already strong enough from your classes) */
  .is-selected {
    box-shadow: 0 10px 28px rgba(40, 60, 180, .12);
  }

  /* Modal basics (light theme) */
  .modal-backdrop {
    position: fixed; inset: 0;
    background: rgba(0,0,0,.35);
    display: none;
    align-items: center; justify-content: center;
    z-index: 60;
  }
  .modal-backdrop.show { display: flex; }
  .modal {
    width: min(720px, 94vw);
    background: #fff;
    border: 1px solid rgba(0,0,0,.08);
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,.18);
  }
  .modal header { display: flex; align-items: center; justify-content: space-between; padding: 14px 16px; border-bottom: 1px solid rgba(0,0,0,.08); }
  .modal .body { padding: 14px 16px; max-height: 60vh; overflow: auto; }
  .modal .close { background: transparent; border: 0; font-size: 20px; cursor: pointer; }
  .modal ul { margin: 0; padding-left: 1rem; }
  .modal ul li { margin: 6px 0; }